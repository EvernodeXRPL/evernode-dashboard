"use strict";(self.webpackChunkhost_dashboard=self.webpackChunkhost_dashboard||[]).push([[330],{32514:function(e,n,s){s.d(n,{Z:function(){return l}});s(72791);var t=s(38302),a=s(63509),i=s(80184);function l(e){var n=e.modelName,s=e.speed,l=e.count,o=e.showTooltip,r=[];n&&r.push(n),s&&r.push("".concat(s," MHz")),l&&r.push("".concat(l," cores"));var d=r.join(", "),c=(0,i.jsx)(t.Z,{className:"text-wrap",children:d});return d?o?(0,i.jsx)(a.ZP,{title:"Host's CPU specifications",children:c}):c:"-"}},65331:function(e,n,s){s.d(n,{Z:function(){return d}});s(72791);var t=s(38317),a=s(63509),i=s(86886),l=s(30945),o=s.n(l),r=s(80184);function d(e){var n,s=e.countryCode,l=e.size,d=(0,t.Z)({tooltipPlacementRight:{marginLeft:"0"}})(a.ZP);return n=s,void 0!==o().whereAlpha2(n)?(0,r.jsx)(d,{title:s,placement:"right-end",children:(0,r.jsx)("div",{children:(0,r.jsx)(i.Z,{className:"emojiFlag",countryCode:s,style:{fontSize:l,cursor:"pointer"},"aria-label":s,alt:s,svg:!0})})}):(0,r.jsx)("span",{style:{fontSize:"24px",width:"42px",textAlign:"center"},children:s})}},23447:function(e,n,s){s.d(n,{Z:function(){return o}});s(72791);var t=s(38302),a=s(63509),i=s(80184);function l(e){return Math.round(100*e)/100}function o(e){var n=e.cpu,s=e.ram,o=e.disk,r=e.instanceCount,d=e.showTooltip,c=[];r&&(n&&c.push("".concat(l(n/1e4/r),"% CPU")),s&&c.push("".concat(l(s/1e3/r),"GB RAM")),o&&c.push("".concat(l(o/1e3/r),"GB Disk")));var u=c.join(", "),h=(0,i.jsx)(t.Z,{className:"text-wrap",children:u});return u?d?(0,i.jsx)(a.ZP,{title:"Resource allocation for a smart contract instance",children:h}):h:"-"}},46700:function(e,n,s){s.d(n,{B:function(){return t},L:function(){return a}});var t={hostAddress:"hostAddress"},a={newHookCandidate:"New Hook Candidate",pilotedModeCandidate:"Piloted Mode Candidate",dudHostCandidate:"Dud Host Candidate"}},94374:function(e,n,s){s.d(n,{Z:function(){return c}});var t=s(29439),a=s(72791),i=s(63509),l=s(26513),o=s(18306),r=s(27944),d=s(80184);function c(e){var n=e.copyText,s=e.iconSize,c=(0,a.useState)(!1),u=(0,t.Z)(c,2),h=u[0],p=u[1];return(0,d.jsx)(a.Fragment,{children:(0,d.jsxs)("div",{className:"copy-box",children:[(0,d.jsx)("div",{children:e.children}),(0,d.jsx)(i.ZP,{title:h?"Copied":"Copy to clipboard",className:"ml-1",children:(0,d.jsx)(l.Z,{onClick:function(e){e.stopPropagation(),p(!0),navigator.clipboard.writeText(n),setTimeout((function(){p(!1)}),2e3)},className:"copy-button",children:h?(0,d.jsx)(o.Z,{className:"m-1",style:{fontSize:s||20,color:"#2b9e19"}}):(0,d.jsx)(r.Z,{className:"m-1",style:{fontSize:s||20}})})})]})})}},91254:function(e,n,s){s.d(n,{Z:function(){return h}});var t=s(72791),a=s(92206),i=s(89526),l=s(66556),o=s(9773),r=s(43486),d=s(17631),c=s(46593),u=s(80184);function h(e){var n=e.headings,s=e.values,h=e.highlight,p=e.hideHeadings,x=e.className,m=e.cellClassName,f=e.headerCellClassName,j=e.isNested,g=Object.keys(n);return(0,u.jsx)(t.Fragment,{children:(0,u.jsx)(a.Z,{className:"".concat(x),component:i.Z,style:j&&{boxShadow:"none",borderRadius:"0",width:"max-content"},children:(0,u.jsxs)(l.Z,{"aria-label":"simple table",children:[!p&&(0,u.jsx)(o.Z,{children:(0,u.jsx)(r.Z,{children:g.map((function(e,s){return(0,u.jsx)(d.Z,{className:(h&&h.includes(e)?"bg-secondary text-dark font-weight-bold":"")+" ".concat(f),children:n[e]},s)}))})}),(0,u.jsx)(c.Z,{children:s.map((function(e){return 0!==Object.keys(e).length&&(0,u.jsx)(r.Z,{children:g.map((function(n,s){return e.cellConfigs&&s===e.cellConfigs.colspan-1?null:(n===g[0]&&e.cellConfigs&&e.cellConfigs.width&&(t=e.cellConfigs.width),e.cellConfigs&&e.cellConfigs.paddingTopBottom&&(a=e.cellConfigs.paddingTopBottom),e.cellConfigs&&e.cellConfigs.borderBottom&&(i=e.cellConfigs.borderBottom),n===g[1]&&e.cellConfigs&&e.cellConfigs.paddingLeftRight&&(l=e.cellConfigs.paddingLeftRight),(0,u.jsx)(d.Z,{className:e.cellConfigs&&e.cellConfigs.isSubtopic?"pt-3 pb-2":(h&&h.includes(n)?"bg-secondary text-dark font-weight-bold":"")+" ".concat(m),align:e.cellConfigs&&e.cellConfigs.align||"left",style:{width:t,paddingTop:a,paddingBottom:a,paddingLeft:l,paddingRight:l,borderBottom:i},colSpan:e.cellConfigs&&e.cellConfigs.colspan,children:e[n]},s));var t,a,i,l}))},e[g[0]])}))})]})})})}},63426:function(e,n,s){s.r(n),s.d(n,{default:function(){return X}});var t=s(74165),a=s(37762),i=s(15861),l=s(29439),o=s(72791),r=s(79271),d=s(21079),c=s(84738),u=s(91254),h=s(63509),p=s(26513),x=s(36393),m=s(38302),f=s(1288),j=s(10283),g=s(42953),Z=s(44442),v=s(38596),b=s(1413),C=s(27194),N=s(99666),y=s(37063),k=s(97595),w=s(80184);function I(e){var n,s=e.id,t=e.summary,a=e.panelClassName,i=e.panelSummaryClassName,r=e.panelDetailClassName,d=e.headerTooltip,c=o.useState(!!e.expanded&&s),u=(0,l.Z)(c,2),p=u[0],x=u[1],m=(0,w.jsx)(y.Z,{expandIcon:(0,w.jsx)(k.Z,{className:i}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:t});return(0,w.jsx)(o.Fragment,{children:(0,w.jsxs)(C.Z,{expanded:p===s,onChange:(n=s,function(e,s){x(!!s&&n)}),className:a,children:[d?(0,w.jsx)(h.ZP,{title:d,children:m}):m,(0,w.jsx)(N.Z,{className:"".concat(r," p-0"),children:e.children})]})})}var T=s(83837),P=s(85159),H=s(94026),R=s(20269);function S(e){var n=e.open,s=e.scroll,t=e.title,a=e.onConfirm,i=e.onClose;return(0,w.jsxs)(T.Z,{open:n,onClose:i,scroll:s,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[t&&(0,w.jsx)(P.Z,{id:"scroll-dialog-title",children:t}),(0,w.jsx)(H.Z,{dividers:"paper"===s,className:"mb-2",children:e.children}),a&&(0,w.jsx)(R.Z,{children:(0,w.jsx)(p.Z,{onClick:a,variant:"outlined",children:"Ok"})})]})}function L(e){var n=e.lease,s=o.useState(!1),t=(0,l.Z)(s,2),a=t[0],i=t[1],r=[{key:"Lease Amount",value:(0,w.jsx)(h.ZP,{title:"EVRs per Moment",children:(0,w.jsx)("span",{children:n.leaseAmount})})},{key:"TOS",value:(0,w.jsx)(h.ZP,{title:"Show Terms of Service",children:(0,w.jsxs)(p.Z,{className:"tos-button",size:"small",variant:"outlined",onClick:function(){return i(!0)},children:[n.halfTos,"..."]})})}];return n.outboundIP&&r.push({key:"Outbound IP",value:(0,w.jsx)(h.ZP,{title:"IP address for the instance's outbound connections",children:(0,w.jsx)("span",{children:n.outboundIP.address})})}),(0,w.jsxs)(f.Z,{item:!0,xs:12,className:"pb-2",children:[(0,w.jsx)(I,{id:n.uriTokenId,summary:(0,w.jsx)(m.Z,{className:"text-truncate pl-2",component:"span",children:n.uriTokenId}),expanded:"true",panelClassName:"bg-unicorn text-light",panelSummaryClassName:"text-light",panelDetailClassName:"text-light overflow-auto",headerTooltip:"URI Token Id",children:(0,w.jsx)(f.Z,{item:!0,xs:12,children:(0,w.jsx)(u.Z,{className:"bg-transparent rounded-0",cellClassName:"text-light",headings:{key:"Key",value:"Value"},values:r,highlight:["value"],hideHeadings:!0})})}),(0,w.jsx)(S,{open:a,scroll:"body",onClose:function(){return i(!1)},children:(0,w.jsx)("div",{className:"license",children:(0,w.jsx)("object",{data:n.tos,type:"application/pdf","aria-label":"EVERNODE HOSTING PRINCIPLES",style:{width:"500px",height:"700px",display:"block"}})})})]})}var B=s(15504),M=s(80520),z=s.p+"static/media/tos.68d67b6c70d7cdfe688d.pdf";function A(e){var n=e.address,s=o.useState(null),a=(0,l.Z)(s,2),r=a[0],d=a[1],c=(0,B.y)();return(0,o.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(){var s,a,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(null),s=z,e.next=4,c.getLeases(n);case 4:a=e.sent,i=a.map((function(e){var n=c.decodeLeaseUri(e.uri);return(0,b.Z)((0,b.Z)((0,b.Z)({},e),n),{},{tos:s})})).sort((function(e,n){return e.leaseIndex-n.leaseIndex})),d(i);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[n,c]),(0,w.jsx)(o.Fragment,{children:r&&(r.length?(0,w.jsx)(f.Z,{container:!0,children:r.map((function(e,n){return(0,w.jsx)(L,{lease:e},n)}))}):(0,w.jsx)("span",{children:"There're no available leases!"}))||(0,w.jsx)(M.Z,{})})}var E=s(46700),V=s(65331);function F(e){var n=e.balance;return(0,w.jsx)(j.Z,{className:"mt-1 bg-unicorn border-0 text-light",children:(n||0===n)&&(0,w.jsx)(h.ZP,{title:"Total EVR balance",children:(0,w.jsxs)(g.Z,{className:"pt-1 pb-1 text-center wallet-balance",children:[(0,w.jsx)("span",{className:"font-weight-bold amount",children:n}),(0,w.jsx)("span",{className:"font-weight-normal ml-1 evr",children:"EVR"})]})})||(0,w.jsx)(M.Z,{className:"mt-1 p-2",size:"1.5rem"})})}var O=s(32514),D=s(23447),q=s(94374),U=(0,v.Z)({root:{"& label.Mui-focused":{color:"rgba(0,0,0,0.54)"},"& label.Mui-error":{color:"red"},"& .MuiInput-underline:after":{borderBottomColor:"rgba(0,0,0,0.87)"},"& .MuiInput-underline.Mui-error:after":{borderBottomColor:"#f83245"},"& label.MuiInputLabel-shrink":{transform:"translate(0, 1.5px) scale(0.95)",transformOrigin:"top left"}}});function X(e){var n=U(),s=(0,r.k6)(),v=(0,B.y)(),b=localStorage.getItem(E.B.hostAddress),C=e.match.params.address,N=o.useState(C||b),y=(0,l.Z)(N,2),k=y[0],I=y[1],T=o.useState(null),P=(0,l.Z)(T,2),H=P[0],R=P[1],L=o.useState(null),z=(0,l.Z)(L,2),X=z[0],G=z[1],K=o.useState(!1),_=(0,l.Z)(K,2),$=_[0],J=_[1],Q=(0,o.useCallback)((function(){return/^r[a-zA-Z0-9]{24,34}$/g.test(H)}),[H]),W=(0,o.useCallback)((function(){H&&Q()&&(localStorage.setItem(E.B.hostAddress,H),I(H),R(null),J(!1))}),[H,Q]),Y=(0,o.useCallback)((function(){J(!1),R(null),k||s.push("/")}),[k,s]),ee=function(e){s.push("/candidate/".concat(e))};return(0,o.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(){var n,s,i,l,o,r,d,c,x,m,f,j;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(null),e.next=3,v.getHosts({address:k});case 3:return n=e.sent,e.next=6,v.getConfigs();case 6:return s=e.sent,i=n&&n.length?n[0]:null,e.next=10,v.getDudHostCandidatesByOwner(k);case 10:return l=e.sent,e.next=13,v.getCandidateByOwner(k);case 13:o=e.sent,r={key:"Key",value:"Value"},d=[],c=(0,a.Z)(l);try{for(c.s();!(x=c.n()).done;)m=x.value,d.push({key:"Id",value:(0,w.jsx)(h.ZP,{title:"DudHost Candidate details",children:(0,w.jsxs)(p.Z,{className:"tos-button",size:"small",variant:"outlined",children:[m.id,"..."]})})})}catch(t){c.e(t)}finally{c.f()}return f=i?[{key:"Registration Token Id",value:(0,w.jsx)(h.ZP,{title:"Registration token Id",children:(0,w.jsx)("span",{children:i.uriTokenId})})},{key:"Host Email",value:(0,w.jsx)(h.ZP,{title:"Email address of the host owner",children:(0,w.jsx)("span",{children:i.email})})},{key:"Instances",value:(0,w.jsx)(u.Z,{headings:{toLet:"To Let",leased:"Leased",total:"Total"},isNested:!0,hideHeadings:!0,values:[{toLet:"To Let",leased:"Leased",total:"Total",cellConfigs:{align:"center",paddingTopBottom:"8px"}},{toLet:(0,w.jsx)(h.ZP,{title:"Number of instances available for lease",children:(0,w.jsx)("span",{children:Math.max((i.maxInstances||0)-(i.activeInstances||0),0)})}),leased:(0,w.jsx)(h.ZP,{title:"Number of leased instances",children:(0,w.jsx)("span",{children:i.activeInstances||0})}),total:(0,w.jsx)(h.ZP,{title:"Number of total instances",children:(0,w.jsx)("span",{children:i.maxInstances||0})}),cellConfigs:{align:"center",paddingTopBottom:"8px",borderBottom:"0"}}]}),cellConfigs:{paddingTopBottom:"0",paddingLeftRight:"0"}},{key:"CPU Model",value:(0,w.jsx)(O.Z,{modelName:i.cpuModelName,speed:i.cpuMHz,count:i.cpuCount,showTooltip:!0})},{key:"Instance Size",value:(0,w.jsx)(D.Z,{cpu:i.cpuMicrosec,ram:i.ramMb,disk:i.diskMb,instanceCount:i.maxInstances,showTooltip:!0})},{key:"Last Heartbeat Index",value:(0,w.jsx)(h.ZP,{title:"".concat("ledger"===s.momentBaseInfo.momentType?"Xahau Ledger":"Timestamp"," at which the last heartbeat was received"),children:(0,w.jsx)("span",{children:i.lastHeartbeatIndex})})},{key:"Registered on Xahau Ledger",value:(0,w.jsx)(h.ZP,{title:"Xahau Ledger at which the host registered",children:(0,w.jsx)("span",{children:i.registrationLedger})})},{key:"Registration Fee",value:(0,w.jsx)(h.ZP,{title:"Registration fee (in EVRs) spent by the host",children:(0,w.jsx)("span",{children:i.registrationFee})})},{key:"Version",value:(0,w.jsx)(h.ZP,{title:"Host's Sashimono version",children:(0,w.jsx)("span",{children:i.version})})},{key:"Registered on Timestamp",value:(0,w.jsx)(h.ZP,{title:"Timestamp at which the host registered",children:(0,w.jsx)("span",{children:i.registrationTimestamp})})},{key:"Accumulated Reward Amount",value:(0,w.jsx)(h.ZP,{title:"Rewards gained upto now",children:(0,w.jsx)("span",{children:i.accumulatedRewardAmount})})},{key:"Last Vote Timestamp",value:(0,w.jsx)(h.ZP,{title:"Timestamp when the last vote has been sent",children:(0,w.jsx)("span",{children:i.lastVoteTimestamp})})},{key:"Host Reputation",value:(0,w.jsx)(h.ZP,{title:"Reputation of the host that is considered in rewarding",children:(0,w.jsx)("span",{children:i.hostReputation})})}]:[],i&&null==i.hostReputation&&(f=f.filter((function(e){return"Host Reputation"!==e.key}))),e.next=22,v.getEVRBalance(k);case 22:j=e.sent,G({evrBalance:j,hostInfo:i,tableHeadings:r,tableValues:f,dudHostCandidates:l,candidate:o});case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();k?C===b?s.push("/host"):e():J(!0)}),[v,s,k,C,b]),(0,w.jsxs)(w.Fragment,{children:[k&&(0,w.jsxs)(o.Fragment,{children:[(0,w.jsxs)(c.Z,{responsive:!0,titleHeading:(0,w.jsxs)("div",{className:"d-flex align-items-center display-7",children:[(0,w.jsx)(x.Z,{mdDown:!0,children:(0,w.jsx)("span",{className:"mr-2",children:(null===X||void 0===X?void 0:X.hostInfo)&&(0,w.jsx)(V.Z,{countryCode:X.hostInfo.countryCode,size:"1.8em"})})}),k,k===b&&(0,w.jsx)(h.ZP,{title:"Change address",children:(0,w.jsx)(d.Z,{className:"ml-1 edit-btn",onClick:function(){return J(!0)}})}),(0,w.jsx)("span",{children:(null===X||void 0===X?void 0:X.hostInfo)&&(0,w.jsx)(h.ZP,{title:X.hostInfo.active?"Active":"Inactive",children:(0,w.jsx)("div",{className:"ml-1 rounded-circle ".concat(X.hostInfo.active?"online":"offline")})})})]}),titleDescription:X?(null===X||void 0===X?void 0:X.hostInfo)&&(0,w.jsx)(m.Z,{type:"p",children:X.hostInfo.domain}):(0,w.jsx)(M.Z,{className:"p-0",size:"1rem"}),children:[(0,w.jsx)(x.Z,{mdUp:!0,children:(0,w.jsx)("span",{children:(null===X||void 0===X?void 0:X.hostInfo)&&(0,w.jsx)(V.Z,{countryCode:X.hostInfo.countryCode,size:"2.5em"})})}),(0,w.jsx)(F,{balance:+(+(null===X||void 0===X?void 0:X.evrBalance)).toFixed(3)})]}),(0,w.jsx)(f.Z,{container:!0,spacing:4,children:X&&X.hostInfo&&X.hostInfo.hostMessage?(0,w.jsx)(f.Z,{item:!0,xs:12,children:(0,w.jsx)(j.Z,{style:{border:"none",boxShadow:"none"},className:"mb-4 bg-transparent",children:(0,w.jsx)(g.Z,{className:"p-0",children:(0,w.jsx)("div",{className:"p-3 border rounded host-message mb-0",children:X&&(X.hostInfo.hostMessage?X.hostInfo.hostMessage:"There is no host message available!")||(0,w.jsx)(M.Z,{className:"p-4"})})})})}):null}),(0,w.jsxs)(f.Z,{container:!0,spacing:4,children:[(0,w.jsx)(f.Z,{item:!0,xs:12,md:6,children:(0,w.jsx)(j.Z,{style:{border:"none",boxShadow:"none"},className:"mb-4 bg-transparent",children:(0,w.jsxs)(g.Z,{className:"p-0",children:[(0,w.jsx)("h5",{className:"card-title font-weight-bold font-size-md",children:"Registration Info"}),X&&(X.hostInfo?(0,w.jsx)(u.Z,{headings:X.tableHeadings,values:X.tableValues,highlight:["key"],hideHeadings:!0}):(0,w.jsx)("span",{children:"Host is not Registered!"}))||(0,w.jsx)(M.Z,{className:"p-4"})]})})}),(0,w.jsx)(f.Z,{item:!0,xs:12,md:6,children:(0,w.jsx)(j.Z,{style:{border:"none",boxShadow:"none"},className:"mb-4 bg-transparent",children:(0,w.jsxs)(g.Z,{className:"p-0",children:[(0,w.jsx)("h5",{className:"card-title font-weight-bold font-size-md",children:"Available Leases"}),k&&(0,w.jsx)(A,{address:k})]})})}),(0,w.jsx)(f.Z,{item:!0,xs:12,md:6,children:(0,w.jsxs)("div",{className:"col",children:[X&&X.candidate&&(0,w.jsxs)(g.Z,{className:"p-0 row",children:[(0,w.jsx)("h5",{className:"card-title font-weight-bold font-size-md pt-3",children:"Proposed New Hook Candidate"}),(0,w.jsx)(j.Z,{className:"row copy-card p-2",children:(0,w.jsx)(q.Z,{copyText:X.candidate.uniqueId,children:(0,w.jsx)(p.Z,{onClick:function(){return ee(X.candidate.uniqueId)},children:X.candidate.uniqueId})})})]}),(0,w.jsxs)(g.Z,{className:"p-0 row",children:[X&&X.dudHostCandidates&&X.dudHostCandidates.length>0&&(0,w.jsx)("h5",{className:"card-title font-weight-bold font-size-md pt-3",children:"Proposed Dud Host Reports"}),X&&X.dudHostCandidates&&X.dudHostCandidates.length>0&&X.dudHostCandidates.map((function(e,n){return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(j.Z,{className:"row copy-card p-2",children:(0,w.jsx)(q.Z,{copyText:e.uniqueId,children:(0,w.jsx)(p.Z,{onClick:function(){return ee(e.uniqueId)},children:e.uniqueId})},n)}),(0,w.jsx)("br",{})]})}))]}),(0,w.jsx)("br",{})]})})]})]}),k===b&&(0,w.jsxs)(S,{open:$,scroll:"body",onClose:Y,children:[(0,w.jsx)("div",{children:(0,w.jsx)(Z.Z,{autoFocus:!0,error:!!H&&!Q(),classes:n,className:"address-input",variant:"standard",label:"Enter the host Xahau address",multiline:!0,value:H||"",onChange:function(e){return R(e.target.value)}})}),(0,w.jsx)("div",{children:(0,w.jsx)(p.Z,{onClick:W,variant:"outlined",disabled:!H||!Q(),className:"pull-right mt-3",children:"OK"})})]})]})}}}]);
//# sourceMappingURL=330.cae66858.chunk.js.map