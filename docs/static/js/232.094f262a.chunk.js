"use strict";(self.webpackChunkhost_dashboard=self.webpackChunkhost_dashboard||[]).push([[232],{32514:function(e,n,t){t.d(n,{Z:function(){return l}});t(72791);var s=t(38302),a=t(63509),i=t(80184);function l(e){var n=e.modelName,t=e.speed,l=e.count,o=e.showTooltip,r=[];n&&r.push(n),t&&r.push("".concat(t," MHz")),l&&r.push("".concat(l," cores"));var c=r.join(", "),d=(0,i.jsx)(s.Z,{className:"text-wrap",children:c});return c?o?(0,i.jsx)(a.ZP,{title:"Host's CPU specifications",children:d}):d:"-"}},65331:function(e,n,t){t.d(n,{Z:function(){return c}});t(72791);var s=t(38317),a=t(63509),i=t(86886),l=t(30945),o=t.n(l),r=t(80184);function c(e){var n,t=e.countryCode,l=e.size,c=(0,s.Z)({tooltipPlacementRight:{marginLeft:"0"}})(a.ZP);return n=t,void 0!==o().whereAlpha2(n)?(0,r.jsx)(c,{title:t,placement:"right-end",children:(0,r.jsx)("div",{children:(0,r.jsx)(i.Z,{className:"emojiFlag",countryCode:t,style:{fontSize:l,cursor:"pointer"},"aria-label":t,alt:t,svg:!0})})}):(0,r.jsx)("span",{style:{fontSize:"24px",width:"42px",textAlign:"center"},children:t})}},19669:function(e,n,t){t.d(n,{Z:function(){return r}});t(72791);var s=t(10283),a=t(63509),i=t(42953),l=t(80520),o=t(80184);function r(e){var n=e.balance;return(0,o.jsx)(s.Z,{className:"mt-1 bg-unicorn border-0 text-light",children:(n||0===n)&&(0,o.jsx)(a.ZP,{title:"Total EVR balance",children:(0,o.jsxs)(i.Z,{className:"pt-1 pb-1 text-center wallet-balance",children:[(0,o.jsx)("span",{className:"font-weight-bold amount",children:n}),(0,o.jsx)("span",{className:"font-weight-normal ml-1 evr",children:"EVR"})]})})||(0,o.jsx)(l.Z,{className:"mt-1 p-2",size:"1.5rem"})})}},23447:function(e,n,t){t.d(n,{Z:function(){return o}});t(72791);var s=t(38302),a=t(63509),i=t(80184);function l(e){return Math.round(100*e)/100}function o(e){var n=e.cpu,t=e.ram,o=e.disk,r=e.instanceCount,c=e.showTooltip,d=[];r&&(n&&d.push("".concat(l(n/1e4/r),"% CPU")),t&&d.push("".concat(l(t/1e3/r),"GB RAM")),o&&d.push("".concat(l(o/1e3/r),"GB Disk")));var u=d.join(", "),h=(0,i.jsx)(s.Z,{className:"text-wrap",children:u});return u?c?(0,i.jsx)(a.ZP,{title:"Resource allocation for a smart contract instance",children:h}):h:"-"}},55728:function(e,n,t){t.d(n,{Z:function(){return g}});var s=t(29439),a=t(63509),i=t(26513),l=t(1288),o=t(38302),r=t(72791),c=t(27194),d=t(99666),u=t(37063),h=t(97595),m=t(80184);function x(e){var n,t=e.id,i=e.summary,l=e.panelClassName,o=e.panelSummaryClassName,x=e.panelDetailClassName,p=e.headerTooltip,f=r.useState(!!e.expanded&&t),g=(0,s.Z)(f,2),j=g[0],Z=g[1],v=(0,m.jsx)(u.Z,{expandIcon:(0,m.jsx)(h.Z,{className:o}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:i});return(0,m.jsx)(r.Fragment,{children:(0,m.jsxs)(c.Z,{expanded:j===t,onChange:(n=t,function(e,t){Z(!!t&&n)}),className:l,children:[p?(0,m.jsx)(a.ZP,{title:p,children:v}):v,(0,m.jsx)(d.Z,{className:"".concat(x," p-0"),children:e.children})]})})}var p=t(91254),f=t(38269);function g(e){var n=e.lease,t=r.useState(!1),c=(0,s.Z)(t,2),d=c[0],u=c[1],h=[{key:"Lease Amount",value:(0,m.jsx)(a.ZP,{title:"EVRs per Moment",children:(0,m.jsx)("span",{children:n.leaseAmount})})},{key:"TOS",value:(0,m.jsx)(a.ZP,{title:"Show Terms of Service",children:(0,m.jsxs)(i.Z,{className:"tos-button",size:"small",variant:"outlined",onClick:function(){return u(!0)},children:[n.halfTos,"..."]})})}];return n.outboundIP&&h.push({key:"Outbound IP",value:(0,m.jsx)(a.ZP,{title:"IP address for the instance's outbound connections",children:(0,m.jsx)("span",{children:n.outboundIP.address})})}),(0,m.jsxs)(l.Z,{item:!0,xs:12,className:"pb-2",children:[(0,m.jsx)(x,{id:n.uriTokenId,summary:(0,m.jsx)(o.Z,{className:"text-truncate pl-2",component:"span",children:n.uriTokenId}),expanded:"true",panelClassName:"bg-unicorn text-light",panelSummaryClassName:"text-light",panelDetailClassName:"text-light overflow-auto",headerTooltip:"URI Token Id",children:(0,m.jsx)(l.Z,{item:!0,xs:12,children:(0,m.jsx)(p.Z,{className:"bg-transparent rounded-0",cellClassName:"text-light",headings:{key:"Key",value:"Value"},values:h,highlight:["value"],hideHeadings:!0})})}),(0,m.jsx)(f.Z,{open:d,scroll:"body",onClose:function(){return u(!1)},children:(0,m.jsx)("div",{className:"license",children:n.tos})})]})}},73729:function(e,n,t){t.a(e,(async function(e,s){try{t.d(n,{Z:function(){return f}});var a=t(74165),i=t(1413),l=t(15861),o=t(29439),r=t(72791),c=t(1288),d=t(55728),u=t(15504),h=t(80520),m=t(80184),x=e([u]);function f(e){var n=e.address,t=r.useState(null),s=(0,o.Z)(t,2),x=s[0],p=s[1],f=(0,u.y)();return(0,r.useEffect)((function(){var e=function(){var e=(0,l.Z)((0,a.Z)().mark((function e(){var t,s,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(null),e.next=3,f.getTos();case 3:return t=e.sent,e.next=6,f.getLeases(n);case 6:s=e.sent,l=s.map((function(e){var n=f.decodeLeaseUri(e.uri);return(0,i.Z)((0,i.Z)((0,i.Z)({},e),n),{},{tos:t})})).sort((function(e,n){return e.leaseIndex-n.leaseIndex})),p(l);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[n,f]),(0,m.jsx)(r.Fragment,{children:x&&(x.length?(0,m.jsx)(c.Z,{container:!0,children:x.map((function(e,n){return(0,m.jsx)(d.Z,{lease:e},n)}))}):(0,m.jsx)("span",{children:"There're no available leases!"}))||(0,m.jsx)(h.Z,{})})}u=(x.then?(await x)():x)[0],s()}catch(p){s(p)}}))},46700:function(e,n,t){t.d(n,{B:function(){return s},L:function(){return a}});var s={hostAddress:"hostAddress"},a={newHookCandidate:"New Hook Candidate",pilotedModeCandidate:"Piloted Mode Candidate",dudHostCandidate:"Dud Host Candidate"}},94374:function(e,n,t){t.d(n,{Z:function(){return d}});var s=t(29439),a=t(72791),i=t(63509),l=t(26513),o=t(18306),r=t(27944),c=t(80184);function d(e){var n=e.copyText,t=e.iconSize,d=(0,a.useState)(!1),u=(0,s.Z)(d,2),h=u[0],m=u[1];return(0,c.jsx)(a.Fragment,{children:(0,c.jsxs)("div",{className:"copy-box",children:[(0,c.jsx)("div",{children:e.children}),(0,c.jsx)(i.ZP,{title:h?"Copied":"Copy to clipboard",className:"ml-1",children:(0,c.jsx)(l.Z,{onClick:function(e){e.stopPropagation(),m(!0),navigator.clipboard.writeText(n),setTimeout((function(){m(!1)}),2e3)},className:"copy-button",children:h?(0,c.jsx)(o.Z,{className:"m-1",style:{fontSize:t||20,color:"#2b9e19"}}):(0,c.jsx)(r.Z,{className:"m-1",style:{fontSize:t||20}})})})]})})}},38269:function(e,n,t){t.d(n,{Z:function(){return c}});var s=t(83837),a=t(85159),i=t(94026),l=t(20269),o=t(26513),r=(t(72791),t(80184));function c(e){var n=e.open,t=e.scroll,c=e.title,d=e.onConfirm,u=e.onClose;return(0,r.jsxs)(s.Z,{open:n,onClose:u,scroll:t,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[c&&(0,r.jsx)(a.Z,{id:"scroll-dialog-title",children:c}),(0,r.jsx)(i.Z,{dividers:"paper"===t,className:"mb-2",children:e.children}),d&&(0,r.jsx)(l.Z,{children:(0,r.jsx)(o.Z,{onClick:d,variant:"outlined",children:"Ok"})})]})}},91254:function(e,n,t){t.d(n,{Z:function(){return h}});var s=t(72791),a=t(92206),i=t(89526),l=t(66556),o=t(9773),r=t(43486),c=t(17631),d=t(46593),u=t(80184);function h(e){var n=e.headings,t=e.values,h=e.highlight,m=e.hideHeadings,x=e.className,p=e.cellClassName,f=e.headerCellClassName,g=e.isNested,j=Object.keys(n);return(0,u.jsx)(s.Fragment,{children:(0,u.jsx)(a.Z,{className:"".concat(x),component:i.Z,style:g&&{boxShadow:"none",borderRadius:"0",width:"max-content"},children:(0,u.jsxs)(l.Z,{"aria-label":"simple table",children:[!m&&(0,u.jsx)(o.Z,{children:(0,u.jsx)(r.Z,{children:j.map((function(e,t){return(0,u.jsx)(c.Z,{className:(h&&h.includes(e)?"bg-secondary text-dark font-weight-bold":"")+" ".concat(f),children:n[e]},t)}))})}),(0,u.jsx)(d.Z,{children:t.map((function(e){return 0!==Object.keys(e).length&&(0,u.jsx)(r.Z,{children:j.map((function(n,t){return e.cellConfigs&&t===e.cellConfigs.colspan-1?null:(n===j[0]&&e.cellConfigs&&e.cellConfigs.width&&(s=e.cellConfigs.width),e.cellConfigs&&e.cellConfigs.paddingTopBottom&&(a=e.cellConfigs.paddingTopBottom),e.cellConfigs&&e.cellConfigs.borderBottom&&(i=e.cellConfigs.borderBottom),n===j[1]&&e.cellConfigs&&e.cellConfigs.paddingLeftRight&&(l=e.cellConfigs.paddingLeftRight),(0,u.jsx)(c.Z,{className:e.cellConfigs&&e.cellConfigs.isSubtopic?"pt-3 pb-2":(h&&h.includes(n)?"bg-secondary text-dark font-weight-bold":"")+" ".concat(p),align:e.cellConfigs&&e.cellConfigs.align||"left",style:{width:s,paddingTop:a,paddingBottom:a,paddingLeft:l,paddingRight:l,borderBottom:i},colSpan:e.cellConfigs&&e.cellConfigs.colspan,children:e[n]},t));var s,a,i,l}))},e[j[0]])}))})]})})})}},58232:function(e,n,t){t.a(e,(async function(e,s){try{t.r(n),t.d(n,{default:function(){return z}});var a=t(74165),i=t(37762),l=t(15861),o=t(29439),r=t(72791),c=t(79271),d=t(21079),u=t(84738),h=t(91254),m=t(63509),x=t(26513),p=t(36393),f=t(38302),g=t(1288),j=t(10283),Z=t(42953),v=t(45910),b=t(38596),C=t(73729),y=t(15504),N=t(80520),w=t(46700),k=t(65331),I=t(19669),T=t(32514),P=t(23447),H=t(38269),R=t(94374),S=t(80184),L=e([C,y]);[C,y]=L.then?(await L)():L;var B=(0,b.Z)({root:{"& label.Mui-focused":{color:"rgba(0,0,0,0.54)"},"& label.Mui-error":{color:"red"},"& .MuiInput-underline:after":{borderBottomColor:"rgba(0,0,0,0.87)"},"& .MuiInput-underline.Mui-error:after":{borderBottomColor:"#f83245"},"& label.MuiInputLabel-shrink":{transform:"translate(0, 1.5px) scale(0.95)",transformOrigin:"top left"}}});function z(e){var n=B(),t=(0,c.k6)(),s=(0,y.y)(),b=localStorage.getItem(w.B.hostAddress),L=e.match.params.address,M=r.useState(L||b),z=(0,o.Z)(M,2),A=z[0],F=z[1],V=r.useState(null),E=(0,o.Z)(V,2),D=E[0],O=E[1],q=r.useState(null),U=(0,o.Z)(q,2),X=U[0],K=U[1],G=r.useState(!1),_=(0,o.Z)(G,2),$=_[0],J=_[1],Q=(0,r.useCallback)((function(){return/^r[a-zA-Z0-9]{24,34}$/g.test(D)}),[D]),W=(0,r.useCallback)((function(){D&&Q()&&(localStorage.setItem(w.B.hostAddress,D),F(D),O(null),J(!1))}),[D,Q]),Y=(0,r.useCallback)((function(){J(!1),O(null),A||t.push("/")}),[A,t]),ee=function(e){t.push("/candidate/".concat(e))};return(0,r.useEffect)((function(){var e=function(){var e=(0,l.Z)((0,a.Z)().mark((function e(){var n,t,l,o,r,c,d,u,p,f,g,j;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K(null),e.next=3,s.getHosts({address:A});case 3:return n=e.sent,e.next=6,s.getConfigs();case 6:return t=e.sent,l=n&&n.length?n[0]:null,e.next=10,s.getDudHostCandidatesByOwner(A);case 10:return o=e.sent,e.next=13,s.getCandidateByOwner(A);case 13:r=e.sent,c={key:"Key",value:"Value"},d=[],u=(0,i.Z)(o);try{for(u.s();!(p=u.n()).done;)f=p.value,d.push({key:"Id",value:(0,S.jsx)(m.ZP,{title:"DudHost Candidate details",children:(0,S.jsxs)(x.Z,{className:"tos-button",size:"small",variant:"outlined",children:[f.id,"..."]})})})}catch(a){u.e(a)}finally{u.f()}return g=l?[{key:"Registration Token Id",value:(0,S.jsx)(m.ZP,{title:"Registration token Id",children:(0,S.jsx)("span",{children:l.uriTokenId})})},{key:"Host Email",value:(0,S.jsx)(m.ZP,{title:"Email address of the host owner",children:(0,S.jsx)("span",{children:l.email})})},{key:"Instances",value:(0,S.jsx)(h.Z,{headings:{toLet:"To Let",leased:"Leased",total:"Total"},isNested:!0,hideHeadings:!0,values:[{toLet:"To Let",leased:"Leased",total:"Total",cellConfigs:{align:"center",paddingTopBottom:"8px"}},{toLet:(0,S.jsx)(m.ZP,{title:"Number of instances available for lease",children:(0,S.jsx)("span",{children:Math.max((l.maxInstances||0)-(l.activeInstances||0),0)})}),leased:(0,S.jsx)(m.ZP,{title:"Number of leased instances",children:(0,S.jsx)("span",{children:l.activeInstances||0})}),total:(0,S.jsx)(m.ZP,{title:"Number of total instances",children:(0,S.jsx)("span",{children:l.maxInstances||0})}),cellConfigs:{align:"center",paddingTopBottom:"8px",borderBottom:"0"}}]}),cellConfigs:{paddingTopBottom:"0",paddingLeftRight:"0"}},{key:"CPU Model",value:(0,S.jsx)(T.Z,{modelName:l.cpuModelName,speed:l.cpuMHz,count:l.cpuCount,showTooltip:!0})},{key:"Instance Size",value:(0,S.jsx)(P.Z,{cpu:l.cpuMicrosec,ram:l.ramMb,disk:l.diskMb,instanceCount:l.maxInstances,showTooltip:!0})},{key:"Last Heartbeat Index",value:(0,S.jsx)(m.ZP,{title:"".concat("ledger"===t.momentBaseInfo.momentType?"XRP Ledger":"Timestamp"," at which the last heartbeat was received"),children:(0,S.jsx)("span",{children:l.lastHeartbeatIndex})})},{key:"Registered on XRP Ledger",value:(0,S.jsx)(m.ZP,{title:"XRP Ledger at which the host registered",children:(0,S.jsx)("span",{children:l.registrationLedger})})},{key:"Registration Fee",value:(0,S.jsx)(m.ZP,{title:"Registration fee (in EVRs) spent by the host",children:(0,S.jsx)("span",{children:l.registrationFee})})},{key:"Version",value:(0,S.jsx)(m.ZP,{title:"Host's Sashimono version",children:(0,S.jsx)("span",{children:l.version})})},{key:"Registered on Timestamp",value:(0,S.jsx)(m.ZP,{title:"Timestamp at which the host registered",children:(0,S.jsx)("span",{children:l.registrationTimestamp})})},{key:"Accumulated Reward Amount",value:(0,S.jsx)(m.ZP,{title:"Rewards gained upto now",children:(0,S.jsx)("span",{children:l.accumulatedRewardAmount})})},{key:"Last Vote Timestamp",value:(0,S.jsx)(m.ZP,{title:"Timestamp when the last vote has been sent",children:(0,S.jsx)("span",{children:l.lastVoteTimestamp})})}]:[],e.next=21,s.getEVRBalance(A);case 21:j=e.sent,K({evrBalance:j,hostInfo:l,tableHeadings:c,tableValues:g,dudHostCandidates:o,candidate:r});case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();A?L===b?t.push("/host"):e():J(!0)}),[s,t,A,L,b]),(0,S.jsxs)(S.Fragment,{children:[A&&(0,S.jsxs)(r.Fragment,{children:[(0,S.jsxs)(u.Z,{responsive:!0,titleHeading:(0,S.jsxs)("div",{className:"d-flex align-items-center display-7",children:[(0,S.jsx)(p.Z,{mdDown:!0,children:(0,S.jsx)("span",{className:"mr-2",children:(null===X||void 0===X?void 0:X.hostInfo)&&(0,S.jsx)(k.Z,{countryCode:X.hostInfo.countryCode,size:"1.8em"})})}),A,A===b&&(0,S.jsx)(m.ZP,{title:"Change address",children:(0,S.jsx)(d.Z,{className:"ml-1 edit-btn",onClick:function(){return J(!0)}})}),(0,S.jsx)("span",{children:(null===X||void 0===X?void 0:X.hostInfo)&&(0,S.jsx)(m.ZP,{title:X.hostInfo.active?"Active":"Inactive",children:(0,S.jsx)("div",{className:"ml-1 rounded-circle ".concat(X.hostInfo.active?"online":"offline")})})})]}),titleDescription:X?(null===X||void 0===X?void 0:X.hostInfo)&&(0,S.jsx)(f.Z,{type:"p",children:X.hostInfo.domain}):(0,S.jsx)(N.Z,{className:"p-0",size:"1rem"}),children:[(0,S.jsx)(p.Z,{mdUp:!0,children:(0,S.jsx)("span",{children:(null===X||void 0===X?void 0:X.hostInfo)&&(0,S.jsx)(k.Z,{countryCode:X.hostInfo.countryCode,size:"2.5em"})})}),(0,S.jsx)(I.Z,{balance:+(+(null===X||void 0===X?void 0:X.evrBalance)).toFixed(3)})]}),(0,S.jsx)(g.Z,{container:!0,spacing:4,children:X&&X.hostInfo&&X.hostInfo.hostMessage?(0,S.jsx)(g.Z,{item:!0,xs:12,children:(0,S.jsx)(j.Z,{style:{border:"none",boxShadow:"none"},className:"mb-4 bg-transparent",children:(0,S.jsx)(Z.Z,{className:"p-0",children:(0,S.jsx)("div",{className:"p-3 border rounded host-message mb-0",children:X&&(X.hostInfo.hostMessage?X.hostInfo.hostMessage:"There is no host message available!")||(0,S.jsx)(N.Z,{className:"p-4"})})})})}):null}),(0,S.jsxs)(g.Z,{container:!0,spacing:4,children:[(0,S.jsx)(g.Z,{item:!0,xs:12,md:6,children:(0,S.jsx)(j.Z,{style:{border:"none",boxShadow:"none"},className:"mb-4 bg-transparent",children:(0,S.jsxs)(Z.Z,{className:"p-0",children:[(0,S.jsx)("h5",{className:"card-title font-weight-bold font-size-md",children:"Registration Info"}),X&&(X.hostInfo?(0,S.jsx)(h.Z,{headings:X.tableHeadings,values:X.tableValues,highlight:["key"],hideHeadings:!0}):(0,S.jsx)("span",{children:"Host is not Registered!"}))||(0,S.jsx)(N.Z,{className:"p-4"})]})})}),(0,S.jsx)(g.Z,{item:!0,xs:12,md:6,children:(0,S.jsx)(j.Z,{style:{border:"none",boxShadow:"none"},className:"mb-4 bg-transparent",children:(0,S.jsxs)(Z.Z,{className:"p-0",children:[(0,S.jsx)("h5",{className:"card-title font-weight-bold font-size-md",children:"Available Leases"}),A&&(0,S.jsx)(C.Z,{address:A})]})})}),(0,S.jsx)(g.Z,{item:!0,xs:12,md:6,children:(0,S.jsxs)("div",{className:"col",children:[X&&X.candidate&&(0,S.jsxs)(Z.Z,{className:"p-0 row",children:[(0,S.jsx)("h5",{className:"card-title font-weight-bold font-size-md pt-3",children:"Proposed New Hook Candidate"}),(0,S.jsx)(j.Z,{className:"row copy-card p-2",children:(0,S.jsx)(R.Z,{copyText:X.candidate.uniqueId,children:(0,S.jsx)(x.Z,{onClick:function(){return ee(X.candidate.uniqueId)},children:X.candidate.uniqueId})})})]}),(0,S.jsxs)(Z.Z,{className:"p-0 row",children:[X&&X.dudHostCandidates&&X.dudHostCandidates.length>0&&(0,S.jsx)("h5",{className:"card-title font-weight-bold font-size-md pt-3",children:"Proposed Dud Host Reports"}),X&&X.dudHostCandidates&&X.dudHostCandidates.length>0&&X.dudHostCandidates.map((function(e,n){return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(j.Z,{className:"row copy-card p-2",children:(0,S.jsx)(R.Z,{copyText:e.uniqueId,children:(0,S.jsx)(x.Z,{onClick:function(){return ee(e.uniqueId)},children:e.uniqueId})},n)}),(0,S.jsx)("br",{})]})}))]}),(0,S.jsx)("br",{})]})})]})]}),A===b&&(0,S.jsxs)(H.Z,{open:$,scroll:"body",onClose:Y,children:[(0,S.jsx)("div",{children:(0,S.jsx)(v.Z,{autoFocus:!0,error:!!D&&!Q(),classes:n,className:"address-input",variant:"standard",label:"Enter the host XRP address",multiline:!0,value:D||"",onChange:function(e){return O(e.target.value)}})}),(0,S.jsx)("div",{children:(0,S.jsx)(x.Z,{onClick:W,variant:"outlined",disabled:!D||!Q(),className:"pull-right mt-3",children:"OK"})})]})]})}s()}catch(M){s(M)}}))}}]);
//# sourceMappingURL=232.094f262a.chunk.js.map