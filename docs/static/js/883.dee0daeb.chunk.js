"use strict";(self.webpackChunkhost_dashboard=self.webpackChunkhost_dashboard||[]).push([[883],{32514:function(e,n,s){s.d(n,{Z:function(){return r}});s(72791);var t=s(38302),a=s(63509),l=s(80184);function r(e){var n=e.modelName,s=e.speed,r=e.count,i=e.showTooltip,o=[];n&&o.push(n),s&&o.push("".concat(s," MHz")),r&&o.push("".concat(r," cores"));var c=o.join(", "),d=(0,l.jsx)(t.Z,{className:"text-wrap",children:c});return c?i?(0,l.jsx)(a.ZP,{title:"Host's CPU specifications",children:d}):d:"-"}},65331:function(e,n,s){s.d(n,{Z:function(){return i}});s(72791);var t=s(38317),a=s(63509),l=s(86886),r=s(80184);function i(e){var n=e.countryCode,s=e.size,i=(0,t.Z)({tooltipPlacementRight:{marginLeft:"0"}})(a.ZP);return(0,r.jsx)(i,{title:n,placement:"right-end",children:(0,r.jsx)("div",{children:(0,r.jsx)(l.Z,{className:"emojiFlag",countryCode:n,style:{fontSize:s,cursor:"pointer"},"aria-label":n,alt:n,svg:!0})})})}},23447:function(e,n,s){s.d(n,{Z:function(){return i}});s(72791);var t=s(38302),a=s(63509),l=s(80184);function r(e){return Math.round(100*e)/100}function i(e){var n=e.cpu,s=e.ram,i=e.disk,o=e.instanceCount,c=e.showTooltip,d=[];o&&(n&&d.push("".concat(r(n/1e4/o),"% CPU")),s&&d.push("".concat(r(s/1e3/o),"GB RAM")),i&&d.push("".concat(r(i/1e3/o),"GB Disk")));var u=d.join(", "),h=(0,l.jsx)(t.Z,{className:"text-wrap",children:u});return u?c?(0,l.jsx)(a.ZP,{title:"Resource allocation for a smart contract instance",children:h}):h:"-"}},91254:function(e,n,s){s.d(n,{Z:function(){return h}});var t=s(72791),a=s(92206),l=s(89526),r=s(66556),i=s(9773),o=s(43486),c=s(17631),d=s(46593),u=s(80184);function h(e){var n=e.headings,s=e.values,h=e.highlight,m=e.hideHeadings,x=e.className,p=e.cellClassName,f=e.headerCellClassName,j=Object.keys(n);return(0,u.jsx)(t.Fragment,{children:(0,u.jsx)(a.Z,{className:"".concat(x),component:l.Z,children:(0,u.jsxs)(r.Z,{"aria-label":"simple table",children:[!m&&(0,u.jsx)(i.Z,{children:(0,u.jsx)(o.Z,{children:j.map((function(e,s){return(0,u.jsx)(c.Z,{className:(h&&h.includes(e)?"bg-secondary text-dark font-weight-bold":"")+" ".concat(f),children:n[e]},s)}))})}),(0,u.jsx)(d.Z,{children:s.map((function(e){return(0,u.jsx)(o.Z,{children:j.map((function(n,s){return e.cellConfigs&&s===e.cellConfigs.colspan-1?null:(n===j[0]&&e.cellConfigs&&e.cellConfigs.width&&(t=e.cellConfigs.width),e.cellConfigs&&e.cellConfigs.paddingTopBottom&&(a=e.cellConfigs.paddingTopBottom),(0,u.jsx)(c.Z,{className:e.cellConfigs&&e.cellConfigs.isSubtopic?"pt-3 pb-2":(h&&h.includes(n)?"bg-secondary text-dark font-weight-bold":"")+" ".concat(p),align:"left",style:{width:t,paddingTop:a,paddingBottom:a},colSpan:e.cellConfigs&&e.cellConfigs.colspan,children:e[n]},s));var t,a}))},e[j[0]])}))})]})})})}},83883:function(e,n,s){s.r(n),s.d(n,{default:function(){return U}});var t=s(15861),a=s(29439),l=s(87757),r=s.n(l),i=s(72791),o=s(79271),c=s(21079),d=s(84738),u=s(91254),h=s(63509),m=s(36393),x=s(38302),p=s(1288),f=s(10283),j=s(42953),g=s(45910),v=s(26513),Z=s(38596),b=s(1413),C=s(27194),N=s(99666),y=s(37063),k=s(97595),I=s(80184);function w(e){var n,s=e.id,t=e.summary,l=e.panelClassName,r=e.panelSummaryClassName,o=e.panelDetailClassName,c=e.headerTooltip,d=i.useState(!!e.expanded&&s),u=(0,a.Z)(d,2),m=u[0],x=u[1],p=(0,I.jsx)(y.Z,{expandIcon:(0,I.jsx)(k.Z,{className:r}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:t});return(0,I.jsx)(i.Fragment,{children:(0,I.jsxs)(C.Z,{expanded:m===s,onChange:(n=s,function(e,s){x(!!s&&n)}),className:l,children:[c?(0,I.jsx)(h.ZP,{title:c,children:p}):p,(0,I.jsx)(N.Z,{className:"".concat(o," p-0"),children:e.children})]})})}var T=s(83837),P=s(85159),S=s(94026),M=s(20269);function R(e){var n=e.open,s=e.scroll,t=e.title,a=e.onConfirm,l=e.onClose;return(0,I.jsxs)(T.Z,{open:n,onClose:l,scroll:s,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[t&&(0,I.jsx)(P.Z,{id:"scroll-dialog-title",children:t}),(0,I.jsx)(S.Z,{dividers:"paper"===s,className:"mb-2",children:e.children}),a&&(0,I.jsx)(M.Z,{children:(0,I.jsx)(v.Z,{onClick:a,variant:"outlined",children:"Ok"})})]})}function H(e){var n=e.lease,s=i.useState(!1),t=(0,a.Z)(s,2),l=t[0],r=t[1],o=[{key:"Lease Amount",value:(0,I.jsx)(h.ZP,{title:"EVRs per Moment",children:(0,I.jsx)("span",{children:n.leaseAmount})})},{key:"Offer Index",value:(0,I.jsx)(h.ZP,{title:"Lease NFT sell offer index",children:(0,I.jsx)("span",{children:n.offerIndex})})},{key:"TOS",value:(0,I.jsx)(h.ZP,{title:"Show Terms of Service",children:(0,I.jsxs)(v.Z,{className:"tos-button",size:"small",variant:"outlined",onClick:function(){return r(!0)},children:[n.halfTos,"..."]})})}];return(0,I.jsxs)(p.Z,{item:!0,xs:12,className:"pb-2",children:[(0,I.jsx)(w,{id:n.nfTokenId,summary:(0,I.jsx)(x.Z,{className:"text-truncate pl-2",component:"span",children:n.nfTokenId}),expanded:"true",panelClassName:"bg-unicorn text-light",panelSummaryClassName:"text-light",panelDetailClassName:"text-light overflow-auto",headerTooltip:"NFToken Id",children:(0,I.jsx)(p.Z,{item:!0,xs:12,children:(0,I.jsx)(u.Z,{className:"bg-transparent rounded-0",cellClassName:"text-light",headings:{key:"Key",value:"Value"},values:o,highlight:["value"],hideHeadings:!0})})}),(0,I.jsx)(R,{open:l,scroll:"body",onClose:function(){return r(!1)},children:(0,I.jsx)("div",{className:"license",children:n.tos})})]})}var z=s(15211),B=s(80520);function F(e){var n=e.address,s=i.useState(null),l=(0,a.Z)(s,2),o=l[0],c=l[1],d=(0,z.y)();return(0,i.useEffect)((function(){var e=function(){var e=(0,t.Z)(r().mark((function e(){var s,t,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(null),e.next=3,d.getTos();case 3:return s=e.sent,e.next=6,d.getLeases(n);case 6:t=e.sent,a=t.map((function(e){var n=d.decodeLeaseUri(e.uri);return(0,b.Z)((0,b.Z)((0,b.Z)({},e),n),{},{tos:s})})),c(a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[n,d]),(0,I.jsx)(i.Fragment,{children:o&&(o.length?(0,I.jsx)(p.Z,{container:!0,children:o.map((function(e,n){return(0,I.jsx)(H,{lease:e},n)}))}):(0,I.jsx)("span",{children:"There're no available leases!"}))||(0,I.jsx)(B.Z,{})})}var L=s(46700),V=s(65331);function A(e){var n=e.balance;return(0,I.jsx)(f.Z,{className:"mt-1 bg-unicorn border-0 text-light",children:(n||0===n)&&(0,I.jsx)(h.ZP,{title:"Total EVR balance",children:(0,I.jsxs)(j.Z,{className:"pt-1 pb-1 text-center wallet-balance",children:[(0,I.jsx)("span",{className:"font-weight-bold amount",children:n}),(0,I.jsx)("span",{className:"font-weight-normal ml-1 evr",children:"EVR"})]})})||(0,I.jsx)(B.Z,{className:"mt-1 p-2",size:"1.5rem"})})}var E=s(32514),O=s(23447),D=(0,Z.Z)({root:{"& label.Mui-focused":{color:"rgba(0,0,0,0.54)"},"& label.Mui-error":{color:"red"},"& .MuiInput-underline:after":{borderBottomColor:"rgba(0,0,0,0.87)"},"& .MuiInput-underline.Mui-error:after":{borderBottomColor:"#f83245"},"& label.MuiInputLabel-shrink":{transform:"translate(0, 1.5px) scale(0.95)",transformOrigin:"top left"}}});function U(e){var n=D(),s=(0,o.k6)(),l=(0,z.y)(),Z=localStorage.getItem(L.B.hostAddress),b=e.match.params.address,C=i.useState(b||Z),N=(0,a.Z)(C,2),y=N[0],k=N[1],w=i.useState(null),T=(0,a.Z)(w,2),P=T[0],S=T[1],M=i.useState(null),H=(0,a.Z)(M,2),U=H[0],X=H[1],K=i.useState(!1),G=(0,a.Z)(K,2),_=G[0],$=G[1],q=(0,i.useCallback)((function(){return/^r[a-zA-Z0-9]{24,34}$/g.test(P)}),[P]),J=(0,i.useCallback)((function(){P&&q()&&(localStorage.setItem(L.B.hostAddress,P),k(P),S(null),$(!1))}),[P,q]),Q=(0,i.useCallback)((function(){$(!1),S(null),y||s.push("/")}),[y,s]);return(0,i.useEffect)((function(){var e=function(){var e=(0,t.Z)(r().mark((function e(){var n,s,t,a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X(null),e.next=3,l.getHosts({address:y});case 3:return n=e.sent,e.next=6,l.getConfigs();case 6:return s=e.sent,t=n&&n.length?n[0]:null,a={key:"Key",value:"Value"},i=t?[{key:"Registration Token Id",value:(0,I.jsx)(h.ZP,{title:"Registration NFToken Id",children:(0,I.jsx)("span",{children:t.nfTokenId})})},{key:"Instances",value:(0,I.jsx)(h.ZP,{title:"Active instances out of Maximum instances",children:(0,I.jsxs)("span",{children:[t.activeInstances||0," out of ",t.maxInstances||0]})})},{key:"CPU Model",value:(0,I.jsx)(E.Z,{modelName:t.cpuModelName,speed:t.cpuMHz,count:t.cpuCount,showTooltip:!0})},{key:"Instance Size",value:(0,I.jsx)(O.Z,{cpu:t.cpuMicrosec,ram:t.ramMb,disk:t.diskMb,instanceCount:t.maxInstances,showTooltip:!0})},{key:"Last Heartbeat Index",value:(0,I.jsx)(h.ZP,{title:"".concat("ledger"===s.momentBaseInfo.momentType?"XRP Ledger":"Timestamp"," at which the last heartbeat was received"),children:(0,I.jsx)("span",{children:t.lastHeartbeatIndex})})},{key:"Registered on XRP Ledger",value:(0,I.jsx)(h.ZP,{title:"XRP Ledger at which the host registered",children:(0,I.jsx)("span",{children:t.registrationLedger})})},{key:"Registration Fee",value:(0,I.jsx)(h.ZP,{title:"Registration fee (in EVRs) spent by the host",children:(0,I.jsx)("span",{children:t.registrationFee})})},{key:"Version",value:(0,I.jsx)(h.ZP,{title:"Host's Sashimono version",children:(0,I.jsx)("span",{children:t.version})})}]:[],null!==t&&void 0!==t&&t.registrationTimestamp&&i.push({key:"Registered on Timestamp",value:(0,I.jsx)(h.ZP,{title:"Timestamp at which the host registered",children:(0,I.jsx)("span",{children:t.registrationTimestamp})})}),e.next=13,l.getEVRBalance(y);case 13:o=e.sent,X({evrBalance:o,hostInfo:t,tableHeadings:a,tableValues:i});case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();y?b===Z?s.push("/host"):e():$(!0)}),[l,s,y,b,Z]),(0,I.jsxs)(I.Fragment,{children:[y&&(0,I.jsxs)(i.Fragment,{children:[(0,I.jsxs)(d.Z,{responsive:!0,titleHeading:(0,I.jsxs)("div",{className:"d-flex align-items-center display-7",children:[(0,I.jsx)(m.Z,{mdDown:!0,children:(0,I.jsx)("span",{className:"mr-2",children:(null===U||void 0===U?void 0:U.hostInfo)&&(0,I.jsx)(V.Z,{countryCode:U.hostInfo.countryCode,size:"1.8em"})})}),y,y===Z&&(0,I.jsx)(h.ZP,{title:"Change address",children:(0,I.jsx)(c.Z,{className:"ml-1 edit-btn",onClick:function(){return $(!0)}})}),(0,I.jsx)("span",{children:(null===U||void 0===U?void 0:U.hostInfo)&&(0,I.jsx)(h.ZP,{title:U.hostInfo.active?"Active":"Inactive",children:(0,I.jsx)("div",{className:"ml - 1 rounded - circle ".concat(U.hostInfo.active?"online":"offline")})})})]}),titleDescription:U?(null===U||void 0===U?void 0:U.hostInfo)&&(0,I.jsx)(x.Z,{type:"p",children:U.hostInfo.description}):(0,I.jsx)(B.Z,{className:"p-0",size:"1rem"}),children:[(0,I.jsx)(m.Z,{mdUp:!0,children:(0,I.jsx)("span",{children:(null===U||void 0===U?void 0:U.hostInfo)&&(0,I.jsx)(V.Z,{countryCode:U.hostInfo.countryCode,size:"2.5em"})})}),(0,I.jsx)(A,{balance:+(+(null===U||void 0===U?void 0:U.evrBalance)).toFixed(3)})]}),(0,I.jsx)(p.Z,{container:!0,spacing:4,children:U&&U.hostInfo&&U.hostInfo.hostMessage?(0,I.jsx)(p.Z,{item:!0,xs:12,children:(0,I.jsx)(f.Z,{style:{border:"none",boxShadow:"none"},className:"mb-4 bg-transparent",children:(0,I.jsx)(j.Z,{className:"p-0",children:(0,I.jsx)("div",{className:"p-3 border rounded host-message mb-0",children:U&&(U.hostInfo.hostMessage?U.hostInfo.hostMessage:"There is no host message available!")||(0,I.jsx)(B.Z,{className:"p-4"})})})})}):null}),(0,I.jsxs)(p.Z,{container:!0,spacing:4,children:[(0,I.jsx)(p.Z,{item:!0,xs:12,md:6,children:(0,I.jsx)(f.Z,{style:{border:"none",boxShadow:"none"},className:"mb-4 bg-transparent",children:(0,I.jsxs)(j.Z,{className:"p-0",children:[(0,I.jsx)("h5",{className:"card-title font-weight-bold font-size-md",children:"Registration Info"}),U&&(U.hostInfo?(0,I.jsx)(u.Z,{headings:U.tableHeadings,values:U.tableValues,highlight:["key"],hideHeadings:!0}):(0,I.jsx)("span",{children:"Host is not Registered!"}))||(0,I.jsx)(B.Z,{className:"p-4"})]})})}),(0,I.jsx)(p.Z,{item:!0,xs:12,md:6,children:(0,I.jsx)(f.Z,{style:{border:"none",boxShadow:"none"},className:"mb-4 bg-transparent",children:(0,I.jsxs)(j.Z,{className:"p-0",children:[(0,I.jsx)("h5",{className:"card-title font-weight-bold font-size-md",children:"Available Leases"}),y&&(0,I.jsx)(F,{address:y})]})})})]})]}),y===Z&&(0,I.jsxs)(R,{open:_,scroll:"body",onClose:Q,children:[(0,I.jsx)("div",{children:(0,I.jsx)(g.Z,{autoFocus:!0,error:!!P&&!q(),classes:n,className:"address-input",variant:"standard",label:"Enter the host XRP address",multiline:!0,value:P||"",onChange:function(e){return S(e.target.value)}})}),(0,I.jsx)("div",{children:(0,I.jsx)(v.Z,{onClick:J,variant:"outlined",disabled:!P||!q(),className:"pull-right mt-3",children:"OK"})})]})]})}}}]);
//# sourceMappingURL=883.dee0daeb.chunk.js.map