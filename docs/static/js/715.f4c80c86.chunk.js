"use strict";(self.webpackChunkhost_dashboard=self.webpackChunkhost_dashboard||[]).push([[715],{32514:function(e,t,n){n.d(t,{Z:function(){return r}});n(72791);var s=n(38302),a=n(63509),c=n(80184);function r(e){var t=e.modelName,n=e.speed,r=e.count,i=e.showTooltip,l=[];t&&l.push(t),n&&l.push("".concat(n," MHz")),r&&l.push("".concat(r," cores"));var o=l.join(", "),u=(0,c.jsx)(s.Z,{className:"text-wrap",children:o});return o?i?(0,c.jsx)(a.ZP,{title:"Host's CPU specifications",children:u}):u:"-"}},65331:function(e,t,n){n.d(t,{Z:function(){return i}});n(72791);var s=n(38317),a=n(63509),c=n(86886),r=n(80184);function i(e){var t=e.countryCode,n=e.size,i=(0,s.Z)({tooltipPlacementRight:{marginLeft:"0"}})(a.ZP);return(0,r.jsx)(i,{title:t,placement:"right-end",children:(0,r.jsx)("div",{children:(0,r.jsx)(c.Z,{className:"emojiFlag",countryCode:t,style:{fontSize:n,cursor:"pointer"},"aria-label":t,alt:t,svg:!0})})})}},23447:function(e,t,n){n.d(t,{Z:function(){return i}});n(72791);var s=n(38302),a=n(63509),c=n(80184);function r(e){return Math.round(100*e)/100}function i(e){var t=e.cpu,n=e.ram,i=e.disk,l=e.instanceCount,o=e.showTooltip,u=[];l&&(t&&u.push("".concat(r(t/1e4/l),"% CPU")),n&&u.push("".concat(r(n/1e3/l),"GB RAM")),i&&u.push("".concat(r(i/1e3/l),"GB Disk")));var d=u.join(", "),h=(0,c.jsx)(s.Z,{className:"text-wrap",children:d});return d?o?(0,c.jsx)(a.ZP,{title:"Resource allocation for a smart contract instance",children:h}):h:"-"}},83715:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var s=n(93433),a=n(15861),c=n(29439),r=n(87757),i=n.n(r),l=n(72791),o=n(79271),u=n(26513),d=n(84738),h=n(10283),m=n(42953),x=n(80184);function f(e){var t=e.columns,n=e.values,s=e.hideHeadings,a=e.onRowClick,c=Object.keys(t);return(0,x.jsx)(l.Fragment,{children:(0,x.jsx)(h.Z,{className:"card-box mb-4",children:(0,x.jsx)(m.Z,{className:"p-0",children:(0,x.jsx)("div",{className:"table-responsive",children:(0,x.jsxs)("table",{className:"table table-striped table-hover text-nowrap mb-0",children:[!s&&(0,x.jsx)("thead",{className:"thead-light",children:(0,x.jsx)("tr",{children:c.map((function(e,n){return(0,x.jsx)("th",{className:t[e].className,children:t[e].title},n)}))})}),(0,x.jsx)("tbody",{children:n.map((function(e,n){return(0,x.jsx)("tr",{onClick:function(){return a(e)},style:{cursor:"pointer"},children:c.map((function(n,s){return(0,x.jsx)("td",{className:t[n].className,children:e[n]},s)}))},n)}))})]})})})})})}var p=n(15211),v=n(80520),j=n(65331),g=n(32514),b=n(23447);function N(){var e=(0,o.k6)(),t=(0,p.y)(),n=(0,l.useState)(null),r=(0,c.Z)(n,2),h=r[0],m=r[1],N=(0,l.useState)(null),k=(0,c.Z)(N,2),y=k[0],C=k[1],Z=(0,l.useState)([]),w=(0,c.Z)(Z,2),S=w[0],M=w[1],P=(0,l.useCallback)((0,a.Z)(i().mark((function e(){var n,s,a,c,r,l=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>0&&void 0!==l[0]?l[0]:null,e.next=3,t.getHosts(null,10,n);case 3:(s=e.sent).nextPageToken?(a=s.data,C(s.nextPageToken)):(a=s,C(null)),c={address:{title:"Address",className:"text-start"},status:{title:"Status",className:"text-center"},cpuModel:{title:"CPU Model",className:"text-center col-fixed-mw"},instanceSize:{title:"Instance Size",className:"text-center col-fixed-mw"},maxInstances:{title:"Max Instances",className:"text-center"},activeInstances:{title:"Active Instances",className:"text-center"}},r=a.map((function(e){return{key:e.address,address:(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(j.Z,{countryCode:e.countryCode,size:"3em"}),(0,x.jsxs)("div",{className:"ml-3",children:[(0,x.jsx)("p",{className:"font-weight-bold m-0",children:e.address}),(0,x.jsxs)("span",{className:"text-black-50 d-block py-1",children:[e.version&&(0,x.jsxs)("span",{children:["v",e.version," | "]}),e.description&&(0,x.jsx)("span",{children:e.description})]})]})]}),status:e.active?(0,x.jsx)("div",{className:"h-auto py-2 badge badge-success",style:{width:"4.25rem",fontSize:"0.75rem"},children:"Active"}):(0,x.jsx)("div",{className:"h-auto py-2 badge badge-warning",style:{width:"4.25rem",fontSize:"0.75rem"},children:"Inactive"}),cpuModel:(0,x.jsx)(g.Z,{modelName:e.cpuModelName,speed:e.cpuMHz,count:e.cpuCount}),instanceSize:(0,x.jsx)(b.Z,{cpu:e.cpuMicrosec,ram:e.ramMb,disk:e.diskMb,instanceCount:e.maxInstances}),maxInstances:e.maxInstances||0,activeInstances:e.activeInstances||0}})),m({hosts:a,tableColumns:c,tableValues:r});case 8:case"end":return e.stop()}}),e)}))),[t]);(0,l.useEffect)((function(){P()}),[P]);var z=(0,l.useCallback)((function(t){e.push("/host/".concat(t.key))}),[e]),I=(0,l.useCallback)((function(){M([].concat((0,s.Z)(S),[y])),P(y)}),[P,S,y]),H=(0,l.useCallback)((function(){var e=S.length>1?S[S.length-2]:null;M(S.slice(0,S.length-1)),P(e)}),[P,S]);return(0,x.jsxs)(l.Fragment,{children:[(0,x.jsx)(d.Z,{titleHeading:"Hosts"}),h&&(0,x.jsxs)("div",{children:[(0,x.jsx)(f,{columns:h.tableColumns,values:h.tableValues,onRowClick:z}),(0,x.jsxs)("div",{children:[S.length>0&&(0,x.jsx)(u.Z,{className:"pull-left",variant:"contained",onClick:H,children:"Prev"}),y&&(0,x.jsx)(u.Z,{className:"pull-right",variant:"contained",onClick:I,children:"Next"})]})]})||(0,x.jsx)(v.Z,{className:"p-4"})]})}},86886:function(e,t,n){var s=n(72791);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},a.apply(this,arguments)}var c=["cdnSuffix","cdnUrl","countryCode","style","svg"];t.Z=function(e){var t=e.cdnSuffix,n=void 0===t?"svg":t,r=e.cdnUrl,i=void 0===r?"https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/4.1.4/flags/4x3/":r,l=e.countryCode,o=e.style,u=e.svg,d=void 0!==u&&u,h=function(e,t){if(null==e)return{};var n,s,a={},c=Object.keys(e);for(s=0;s<c.length;s++)n=c[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,c);if("string"!==typeof l)return null;if(d){var m=""+i+l.toLowerCase()+"."+n;return(0,s.createElement)("img",Object.assign({},h,{src:m,style:a({display:"inline-block",width:"1em",height:"1em",verticalAlign:"middle"},o)}))}var x=l.toUpperCase().replace(/./g,(function(e){return String.fromCodePoint(e.charCodeAt(0)+127397)}));return(0,s.createElement)("span",Object.assign({role:"img"},h,{style:a({display:"inline-block",fontSize:"1em",lineHeight:"1em",verticalAlign:"middle"},o)}),x)}}}]);
//# sourceMappingURL=715.f4c80c86.chunk.js.map