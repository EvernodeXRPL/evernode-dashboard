"use strict";(self.webpackChunkhost_dashboard=self.webpackChunkhost_dashboard||[]).push([[330],{32514:function(e,n,t){t.d(n,{Z:function(){return l}});t(72791);var s=t(38302),a=t(63509),i=t(80184);function l(e){var n=e.modelName,t=e.speed,l=e.count,o=e.showTooltip,r=[];n&&r.push(n),t&&r.push("".concat(t," MHz")),l&&r.push("".concat(l," cores"));var d=r.join(", "),c=(0,i.jsx)(s.Z,{className:"text-wrap",children:d});return d?o?(0,i.jsx)(a.ZP,{title:"Host's CPU specifications",children:c}):c:"-"}},65331:function(e,n,t){t.d(n,{Z:function(){return d}});t(72791);var s=t(38317),a=t(63509),i=t(86886),l=t(30945),o=t.n(l),r=t(80184);function d(e){var n,t=e.countryCode,l=e.size,d=(0,s.Z)({tooltipPlacementRight:{marginLeft:"0"}})(a.ZP);return n=t,void 0!==o().whereAlpha2(n)?(0,r.jsx)(d,{title:t,placement:"right-end",children:(0,r.jsx)("div",{children:(0,r.jsx)(i.Z,{className:"emojiFlag",countryCode:t,style:{fontSize:l,cursor:"pointer"},"aria-label":t,alt:t,svg:!0})})}):(0,r.jsx)("span",{style:{fontSize:"24px",width:"42px",textAlign:"center"},children:t})}},23447:function(e,n,t){t.d(n,{Z:function(){return o}});t(72791);var s=t(38302),a=t(63509),i=t(80184);function l(e){return Math.round(100*e)/100}function o(e){var n=e.cpu,t=e.ram,o=e.disk,r=e.instanceCount,d=e.showTooltip,c=[];r&&(n&&c.push("".concat(l(n/1e4/r),"% CPU")),t&&c.push("".concat(l(t/1e3/r),"GB RAM")),o&&c.push("".concat(l(o/1e3/r),"GB Disk")));var u=c.join(", "),h=(0,i.jsx)(s.Z,{className:"text-wrap",children:u});return u?d?(0,i.jsx)(a.ZP,{title:"Resource allocation for a smart contract instance",children:h}):h:"-"}},46700:function(e,n,t){t.d(n,{B:function(){return s},L:function(){return a}});var s={hostAddress:"hostAddress"},a={newHookCandidate:"New Hook Candidate",pilotedModeCandidate:"Piloted Mode Candidate",dudHostCandidate:"Dud Host Candidate"}},94374:function(e,n,t){t.d(n,{Z:function(){return c}});var s=t(29439),a=t(72791),i=t(63509),l=t(26513),o=t(18306),r=t(27944),d=t(80184);function c(e){var n=e.copyText,t=e.iconSize,c=(0,a.useState)(!1),u=(0,s.Z)(c,2),h=u[0],p=u[1];return(0,d.jsx)(a.Fragment,{children:(0,d.jsxs)("div",{className:"copy-box",children:[(0,d.jsx)("div",{children:e.children}),(0,d.jsx)(i.ZP,{title:h?"Copied":"Copy to clipboard",className:"ml-1",children:(0,d.jsx)(l.Z,{onClick:function(e){e.stopPropagation(),p(!0),navigator.clipboard.writeText(n),setTimeout((function(){p(!1)}),2e3)},className:"copy-button",children:h?(0,d.jsx)(o.Z,{className:"m-1",style:{fontSize:t||20,color:"#2b9e19"}}):(0,d.jsx)(r.Z,{className:"m-1",style:{fontSize:t||20}})})})]})})}},91254:function(e,n,t){t.d(n,{Z:function(){return h}});var s=t(72791),a=t(92206),i=t(89526),l=t(66556),o=t(9773),r=t(43486),d=t(17631),c=t(46593),u=t(80184);function h(e){var n=e.headings,t=e.values,h=e.highlight,p=e.hideHeadings,x=e.className,m=e.cellClassName,f=e.headerCellClassName,j=e.isNested,g=Object.keys(n);return(0,u.jsx)(s.Fragment,{children:(0,u.jsx)(a.Z,{className:"".concat(x),component:i.Z,style:j&&{boxShadow:"none",borderRadius:"0",width:"max-content"},children:(0,u.jsxs)(l.Z,{"aria-label":"simple table",children:[!p&&(0,u.jsx)(o.Z,{children:(0,u.jsx)(r.Z,{children:g.map((function(e,t){return(0,u.jsx)(d.Z,{className:(h&&h.includes(e)?"bg-secondary text-dark font-weight-bold":"")+" ".concat(f),children:n[e]},t)}))})}),(0,u.jsx)(c.Z,{children:t.map((function(e){return 0!==Object.keys(e).length&&(0,u.jsx)(r.Z,{children:g.map((function(n,t){return e.cellConfigs&&t===e.cellConfigs.colspan-1?null:(n===g[0]&&e.cellConfigs&&e.cellConfigs.width&&(s=e.cellConfigs.width),e.cellConfigs&&e.cellConfigs.paddingTopBottom&&(a=e.cellConfigs.paddingTopBottom),e.cellConfigs&&e.cellConfigs.borderBottom&&(i=e.cellConfigs.borderBottom),n===g[1]&&e.cellConfigs&&e.cellConfigs.paddingLeftRight&&(l=e.cellConfigs.paddingLeftRight),(0,u.jsx)(d.Z,{className:e.cellConfigs&&e.cellConfigs.isSubtopic?"pt-3 pb-2":(h&&h.includes(n)?"bg-secondary text-dark font-weight-bold":"")+" ".concat(m),align:e.cellConfigs&&e.cellConfigs.align||"left",style:{width:s,paddingTop:a,paddingBottom:a,paddingLeft:l,paddingRight:l,borderBottom:i},colSpan:e.cellConfigs&&e.cellConfigs.colspan,children:e[n]},t));var s,a,i,l}))},e[g[0]])}))})]})})})}},63426:function(e,n,t){t.r(n),t.d(n,{default:function(){return X}});var s=t(74165),a=t(37762),i=t(15861),l=t(29439),o=t(72791),r=t(79271),d=t(21079),c=t(84738),u=t(91254),h=t(63509),p=t(26513),x=t(36393),m=t(38302),f=t(1288),j=t(10283),g=t(42953),Z=t(44442),v=t(38596),b=t(1413),C=t(27194),N=t(99666),y=t(37063),k=t(97595),I=t(80184);function w(e){var n,t=e.id,s=e.summary,a=e.panelClassName,i=e.panelSummaryClassName,r=e.panelDetailClassName,d=e.headerTooltip,c=o.useState(!!e.expanded&&t),u=(0,l.Z)(c,2),p=u[0],x=u[1],m=(0,I.jsx)(y.Z,{expandIcon:(0,I.jsx)(k.Z,{className:i}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:s});return(0,I.jsx)(o.Fragment,{children:(0,I.jsxs)(C.Z,{expanded:p===t,onChange:(n=t,function(e,t){x(!!t&&n)}),className:a,children:[d?(0,I.jsx)(h.ZP,{title:d,children:m}):m,(0,I.jsx)(N.Z,{className:"".concat(r," p-0"),children:e.children})]})})}var T=t(83837),P=t(85159),H=t(94026),R=t(20269);function S(e){var n=e.open,t=e.scroll,s=e.title,a=e.onConfirm,i=e.onClose;return(0,I.jsxs)(T.Z,{open:n,onClose:i,scroll:t,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[s&&(0,I.jsx)(P.Z,{id:"scroll-dialog-title",children:s}),(0,I.jsx)(H.Z,{dividers:"paper"===t,className:"mb-2",children:e.children}),a&&(0,I.jsx)(R.Z,{children:(0,I.jsx)(p.Z,{onClick:a,variant:"outlined",children:"Ok"})})]})}function L(e){var n=e.lease,t=o.useState(!1),s=(0,l.Z)(t,2),a=s[0],i=s[1],r=[{key:"Lease Amount",value:(0,I.jsx)(h.ZP,{title:"EVRs per Moment",children:(0,I.jsx)("span",{children:n.leaseAmount})})},{key:"TOS",value:(0,I.jsx)(h.ZP,{title:"Show Terms of Service",children:(0,I.jsxs)(p.Z,{className:"tos-button",size:"small",variant:"outlined",onClick:function(){return i(!0)},children:[n.halfTos,"..."]})})}];return n.outboundIP&&r.push({key:"Outbound IP",value:(0,I.jsx)(h.ZP,{title:"IP address for the instance's outbound connections",children:(0,I.jsx)("span",{children:n.outboundIP.address})})}),(0,I.jsxs)(f.Z,{item:!0,xs:12,className:"pb-2",children:[(0,I.jsx)(w,{id:n.uriTokenId,summary:(0,I.jsx)(m.Z,{className:"text-truncate pl-2",component:"span",children:n.uriTokenId}),expanded:"true",panelClassName:"bg-unicorn text-light",panelSummaryClassName:"text-light",panelDetailClassName:"text-light overflow-auto",headerTooltip:"URI Token Id",children:(0,I.jsx)(f.Z,{item:!0,xs:12,children:(0,I.jsx)(u.Z,{className:"bg-transparent rounded-0",cellClassName:"text-light",headings:{key:"Key",value:"Value"},values:r,highlight:["value"],hideHeadings:!0})})}),(0,I.jsx)(S,{open:a,scroll:"body",onClose:function(){return i(!1)},children:(0,I.jsx)("div",{className:"license",children:(0,I.jsx)("object",{data:n.tos,type:"application/pdf","aria-label":"EVERNODE HOSTING PRINCIPLES",style:{width:"500px",height:"700px",display:"block"}})})})]})}var B=t(15504),M=t(80520),z=t.p+"static/media/tos.68d67b6c70d7cdfe688d.pdf";function A(e){var n=e.address,t=o.useState(null),a=(0,l.Z)(t,2),r=a[0],d=a[1],c=(0,B.y)();return(0,o.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){var t,a,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(null),t=z,e.next=4,c.getLeases(n);case 4:a=e.sent,i=a.map((function(e){var n=c.decodeLeaseUri(e.uri);return(0,b.Z)((0,b.Z)((0,b.Z)({},e),n),{},{tos:t})})).sort((function(e,n){return e.leaseIndex-n.leaseIndex})),d(i);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[n,c]),(0,I.jsx)(o.Fragment,{children:r&&(r.length?(0,I.jsx)(f.Z,{container:!0,children:r.map((function(e,n){return(0,I.jsx)(L,{lease:e},n)}))}):(0,I.jsx)("span",{children:"There're no available leases!"}))||(0,I.jsx)(M.Z,{})})}var E=t(46700),V=t(65331);function F(e){var n=e.balance;return(0,I.jsx)(j.Z,{className:"mt-1 bg-unicorn border-0 text-light",children:(n||0===n)&&(0,I.jsx)(h.ZP,{title:"Total EVR balance",children:(0,I.jsxs)(g.Z,{className:"pt-1 pb-1 text-center wallet-balance",children:[(0,I.jsx)("span",{className:"font-weight-bold amount",children:n}),(0,I.jsx)("span",{className:"font-weight-normal ml-1 evr",children:"EVR"})]})})||(0,I.jsx)(M.Z,{className:"mt-1 p-2",size:"1.5rem"})})}var O=t(32514),D=t(23447),q=t(94374),U=(0,v.Z)({root:{"& label.Mui-focused":{color:"rgba(0,0,0,0.54)"},"& label.Mui-error":{color:"red"},"& .MuiInput-underline:after":{borderBottomColor:"rgba(0,0,0,0.87)"},"& .MuiInput-underline.Mui-error:after":{borderBottomColor:"#f83245"},"& label.MuiInputLabel-shrink":{transform:"translate(0, 1.5px) scale(0.95)",transformOrigin:"top left"}}});function X(e){var n=U(),t=(0,r.k6)(),v=(0,B.y)(),b=localStorage.getItem(E.B.hostAddress),C=e.match.params.address,N=o.useState(C||b),y=(0,l.Z)(N,2),k=y[0],w=y[1],T=o.useState(null),P=(0,l.Z)(T,2),H=P[0],R=P[1],L=o.useState(null),z=(0,l.Z)(L,2),X=z[0],G=z[1],K=o.useState(!1),_=(0,l.Z)(K,2),$=_[0],J=_[1],Q=(0,o.useCallback)((function(){return/^r[a-zA-Z0-9]{24,34}$/g.test(H)}),[H]),W=(0,o.useCallback)((function(){H&&Q()&&(localStorage.setItem(E.B.hostAddress,H),w(H),R(null),J(!1))}),[H,Q]),Y=(0,o.useCallback)((function(){J(!1),R(null),k||t.push("/")}),[k,t]),ee=function(e){t.push("/candidate/".concat(e))};return(0,o.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){var n,t,i,l,o,r,d,c,x,m,f;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(null),e.next=3,v.getConfigs();case 3:return n=e.sent,e.next=6,v.getHostInfo(k);case 6:return t=e.sent,e.next=9,v.getDudHostCandidatesByOwner(k);case 9:return i=e.sent,e.next=12,v.getCandidateByOwner(k);case 12:l=e.sent,o={key:"Key",value:"Value"},r=[],d=(0,a.Z)(i);try{for(d.s();!(c=d.n()).done;)x=c.value,r.push({key:"Id",value:(0,I.jsx)(h.ZP,{title:"DudHost Candidate details",children:(0,I.jsxs)(p.Z,{className:"tos-button",size:"small",variant:"outlined",children:[x.id,"..."]})})})}catch(s){d.e(s)}finally{d.f()}return m=t?[{key:"Registration Token Id",value:(0,I.jsx)(h.ZP,{title:"Registration token Id",children:(0,I.jsx)("span",{children:t.uriTokenId})})},{key:"Host Email",value:(0,I.jsx)(h.ZP,{title:"Email address of the host owner",children:(0,I.jsx)("span",{children:t.email})})},{key:"Instances",value:(0,I.jsx)(u.Z,{headings:{toLet:"To Let",leased:"Leased",total:"Total"},isNested:!0,hideHeadings:!0,values:[{toLet:"To Let",leased:"Leased",total:"Total",cellConfigs:{align:"center",paddingTopBottom:"8px"}},{toLet:(0,I.jsx)(h.ZP,{title:"Number of instances available for lease",children:(0,I.jsx)("span",{children:Math.max((t.maxInstances||0)-(t.activeInstances||0),0)})}),leased:(0,I.jsx)(h.ZP,{title:"Number of leased instances",children:(0,I.jsx)("span",{children:t.activeInstances||0})}),total:(0,I.jsx)(h.ZP,{title:"Number of total instances",children:(0,I.jsx)("span",{children:t.maxInstances||0})}),cellConfigs:{align:"center",paddingTopBottom:"8px",borderBottom:"0"}}]}),cellConfigs:{paddingTopBottom:"0",paddingLeftRight:"0"}},{key:"CPU Model",value:(0,I.jsx)(O.Z,{modelName:t.cpuModelName,speed:t.cpuMHz,count:t.cpuCount,showTooltip:!0})},{key:"Instance Size",value:(0,I.jsx)(D.Z,{cpu:t.cpuMicrosec,ram:t.ramMb,disk:t.diskMb,instanceCount:t.maxInstances,showTooltip:!0})},{key:"Last Heartbeat Index",value:(0,I.jsx)(h.ZP,{title:"".concat("ledger"===n.momentBaseInfo.momentType?"Xahau Ledger":"Timestamp"," at which the last heartbeat was received"),children:(0,I.jsx)("span",{children:t.lastHeartbeatIndex})})},{key:"Registered on Xahau Ledger",value:(0,I.jsx)(h.ZP,{title:"Xahau Ledger at which the host registered",children:(0,I.jsx)("span",{children:t.registrationLedger})})},{key:"Registration Fee",value:(0,I.jsx)(h.ZP,{title:"Registration fee (in EVRs) spent by the host",children:(0,I.jsx)("span",{children:t.registrationFee})})},{key:"Version",value:(0,I.jsx)(h.ZP,{title:"Host's Sashimono version",children:(0,I.jsx)("span",{children:t.version})})},{key:"Registered on Timestamp",value:(0,I.jsx)(h.ZP,{title:"Timestamp at which the host registered",children:(0,I.jsx)("span",{children:t.registrationTimestamp})})},{key:"Accumulated Reward Amount",value:(0,I.jsx)(h.ZP,{title:"Rewards gained upto now",children:(0,I.jsx)("span",{children:t.accumulatedRewardAmount})})},{key:"Last Vote Timestamp",value:(0,I.jsx)(h.ZP,{title:"Timestamp when the last vote has been sent",children:(0,I.jsx)("span",{children:t.lastVoteTimestamp})})},{key:"Host Reputation",value:(0,I.jsx)(h.ZP,{title:"Reputation of the host that is considered in rewarding",children:(0,I.jsx)("span",{children:t.hostReputation})})}]:[],t&&null==t.hostReputation&&(m=m.filter((function(e){return"Host Reputation"!==e.key}))),e.next=21,v.getEVRBalance(k);case 21:f=e.sent,G({evrBalance:f,hostInfo:t,tableHeadings:o,tableValues:m,dudHostCandidates:i,candidate:l});case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();k?C===b?t.push("/host"):e():J(!0)}),[v,t,k,C,b]),(0,I.jsxs)(I.Fragment,{children:[k&&(0,I.jsxs)(o.Fragment,{children:[(0,I.jsxs)(c.Z,{responsive:!0,titleHeading:(0,I.jsxs)("div",{className:"d-flex align-items-center display-7",children:[(0,I.jsx)(x.Z,{mdDown:!0,children:(0,I.jsx)("span",{className:"mr-2",children:(null===X||void 0===X?void 0:X.hostInfo)&&(0,I.jsx)(V.Z,{countryCode:X.hostInfo.countryCode,size:"1.8em"})})}),k,k===b&&(0,I.jsx)(h.ZP,{title:"Change address",children:(0,I.jsx)(d.Z,{className:"ml-1 edit-btn",onClick:function(){return J(!0)}})}),(0,I.jsx)("span",{children:(null===X||void 0===X?void 0:X.hostInfo)&&(0,I.jsx)(h.ZP,{title:X.hostInfo.active?"Active":"Inactive",children:(0,I.jsx)("div",{className:"ml-1 rounded-circle ".concat(X.hostInfo.active?"online":"offline")})})})]}),titleDescription:X?(null===X||void 0===X?void 0:X.hostInfo)&&(0,I.jsx)(m.Z,{type:"p",children:X.hostInfo.domain}):(0,I.jsx)(M.Z,{className:"p-0",size:"1rem"}),children:[(0,I.jsx)(x.Z,{mdUp:!0,children:(0,I.jsx)("span",{children:(null===X||void 0===X?void 0:X.hostInfo)&&(0,I.jsx)(V.Z,{countryCode:X.hostInfo.countryCode,size:"2.5em"})})}),(0,I.jsx)(F,{balance:+(+(null===X||void 0===X?void 0:X.evrBalance)).toFixed(3)})]}),(0,I.jsx)(f.Z,{container:!0,spacing:4,children:X&&X.hostInfo&&X.hostInfo.hostMessage?(0,I.jsx)(f.Z,{item:!0,xs:12,children:(0,I.jsx)(j.Z,{style:{border:"none",boxShadow:"none"},className:"mb-4 bg-transparent",children:(0,I.jsx)(g.Z,{className:"p-0",children:(0,I.jsx)("div",{className:"p-3 border rounded host-message mb-0",children:X&&(X.hostInfo.hostMessage?X.hostInfo.hostMessage:"There is no host message available!")||(0,I.jsx)(M.Z,{className:"p-4"})})})})}):null}),(0,I.jsxs)(f.Z,{container:!0,spacing:4,children:[(0,I.jsx)(f.Z,{item:!0,xs:12,md:6,children:(0,I.jsx)(j.Z,{style:{border:"none",boxShadow:"none"},className:"mb-4 bg-transparent",children:(0,I.jsxs)(g.Z,{className:"p-0",children:[(0,I.jsx)("h5",{className:"card-title font-weight-bold font-size-md",children:"Registration Info"}),X&&(X.hostInfo?(0,I.jsx)(u.Z,{headings:X.tableHeadings,values:X.tableValues,highlight:["key"],hideHeadings:!0}):(0,I.jsx)("span",{children:"Host is not Registered!"}))||(0,I.jsx)(M.Z,{className:"p-4"})]})})}),(0,I.jsx)(f.Z,{item:!0,xs:12,md:6,children:(0,I.jsx)(j.Z,{style:{border:"none",boxShadow:"none"},className:"mb-4 bg-transparent",children:(0,I.jsxs)(g.Z,{className:"p-0",children:[(0,I.jsx)("h5",{className:"card-title font-weight-bold font-size-md",children:"Available Leases"}),k&&(0,I.jsx)(A,{address:k})]})})}),(0,I.jsx)(f.Z,{item:!0,xs:12,md:6,children:(0,I.jsxs)("div",{className:"col",children:[X&&X.candidate&&(0,I.jsxs)(g.Z,{className:"p-0 row",children:[(0,I.jsx)("h5",{className:"card-title font-weight-bold font-size-md pt-3",children:"Proposed New Hook Candidate"}),(0,I.jsx)(j.Z,{className:"row copy-card p-2",children:(0,I.jsx)(q.Z,{copyText:X.candidate.uniqueId,children:(0,I.jsx)(p.Z,{onClick:function(){return ee(X.candidate.uniqueId)},children:X.candidate.uniqueId})})})]}),(0,I.jsxs)(g.Z,{className:"p-0 row",children:[X&&X.dudHostCandidates&&X.dudHostCandidates.length>0&&(0,I.jsx)("h5",{className:"card-title font-weight-bold font-size-md pt-3",children:"Proposed Dud Host Reports"}),X&&X.dudHostCandidates&&X.dudHostCandidates.length>0&&X.dudHostCandidates.map((function(e,n){return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(j.Z,{className:"row copy-card p-2",children:(0,I.jsx)(q.Z,{copyText:e.uniqueId,children:(0,I.jsx)(p.Z,{onClick:function(){return ee(e.uniqueId)},children:e.uniqueId})},n)}),(0,I.jsx)("br",{})]})}))]}),(0,I.jsx)("br",{})]})})]})]}),k===b&&(0,I.jsxs)(S,{open:$,scroll:"body",onClose:Y,children:[(0,I.jsx)("div",{children:(0,I.jsx)(Z.Z,{autoFocus:!0,error:!!H&&!Q(),classes:n,className:"address-input",variant:"standard",label:"Enter the host Xahau address",multiline:!0,value:H||"",onChange:function(e){return R(e.target.value)}})}),(0,I.jsx)("div",{children:(0,I.jsx)(p.Z,{onClick:W,variant:"outlined",disabled:!H||!Q(),className:"pull-right mt-3",children:"OK"})})]})]})}}}]);
//# sourceMappingURL=330.dfc33760.chunk.js.map